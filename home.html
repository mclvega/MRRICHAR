<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="./logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css" type="text/css">
    <title>MRRICHAR - Campeones</title>
    <style>
        html {
            scroll-behavior: smooth; /* Scroll suave */
        }
    </style>
</head>

<body> 
    <div class="container mt-5">
        <div class="title">
            <img class="logo" src="./logo.png" alt="Logo">
            <h1><strong>Comunidad de eFootball</strong></h1> 
        </div>
        
        <!-- Navegación -->
        <nav>
            <ul>
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#campeones">Campeones</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul>
        </nav>
        
        <div class="section">
            <div id="video-redes" class="video-container">
                <div>
                    <video class="responsive-video" controls src="FollowIG.mp4" type="video/mp4" autoplay loop muted></video>
                    <h3><a href="https://www.instagram.com/mrrichar.tw/" target="_blank">Instagram: @mrrichar.tw</a></h3>
                </div>
                <div>
                    <video class="responsive-video" controls src="FollowingTW.mp4" type="video/mp4" autoplay loop muted></video>
                    <h3><a href="https://www.twitch.tv/mrrichar_" target="_blank">Twitch: mrrichar_</a></h3>
                </div>
            </div>
        </div>
        
       

<!-- Sección Campeones -->
<div id="campeones" class="section">
    <div class= "champion"><h2>🏆 Campeones</h2></div>
     <!-- Navegación campeonatos-->
     <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="individual-tab" data-toggle="tab" href="#individual" role="tab" aria-controls="individual" aria-selected="true">Individual</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="cooperative-tab" data-toggle="tab" href="#cooperative" role="tab" aria-controls="cooperative" aria-selected="false">Cooperativo</a>
        </li>
    </ul>
    <div class="tab-content mt-3" id="myTabContent">
        <!-- Sección Campeones -->
        <div class="tab-pane fade show active" id="individual" role="tabpanel" aria-labelledby="individual-tab">
            <div class="row mb-3">
                <div class="col m-1">
                    <input type="text" id="searchPlayerInd" class="form-control" placeholder="Buscar por jugador...">
                </div>
                <div class="col m-1">
                    <input type="text" id="searchTournamentInd" class="form-control" placeholder="Buscar por torneo...">
                </div>
                <div id="players-container" class="d-flex flex-column justify-content-center mt-4"></div>
            </div>
        </div>
    </div>
    <div>
		<ul class="nav nav-tabs" id="myTab" role="tablist">
            		<li class="nav-item">
                		<a class="nav-link" id="individual-tab" data-toggle="tab" href="#individual" role="tab" aria-controls="individual" aria-selected="false">Individual</a>
            		</li>
            		<li class="nav-item">
                		<a class="nav-link active" id="cooperative-tab" data-toggle="tab" href="#cooperative" role="tab" aria-controls="cooperative" aria-selected="true">Cooperativo</a>
            		</li>
       		 </ul>
	</div>
    <div class="tab-content mt-3" id="myTabContent">
        <!-- Sección Campeones -->
        <div class="tab-pane fade show active" id="cooperative" role="tabpanel" aria-labelledby="cooperative-tab">
            <div class="mt-6"style="max-width: 1100px; margin: 0 auto;">
                <input type="text" id="searchPlayerCoop" placeholder="Buscar equipo" class="mb-4 p-2 border border-gray-300 rounded">
                <div id="teamsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>
              </div>
                <div id="teams-container" class="d-flex flex-wrap justify-content-center mt-4"></div>
            </div>
        </div>
    </div>
</div>

<script>
    async function fetchPlayers() {
        try {
            const response = await fetch("./players.json");
            let data = await response.json();
            data = data.sort((a, b) => b.tournaments.length - a.tournaments.length);
            return data;
        } catch (error) {
            console.error("Error al cargar los jugadores:", error);
            return [];
        }
    }

    async function generatePlayers() {
        const container = document.getElementById("players-container");
        container.innerHTML = "";

        const searchPlayer = document.getElementById("searchPlayerInd").value.toLowerCase();
        const searchTournament = document.getElementById("searchTournamentInd").value.toLowerCase();

        const players = await fetchPlayers();

        players.forEach(player => {
            if (searchPlayer && !player.name.toLowerCase().includes(searchPlayer)) return;

            const filteredTournaments = player.tournaments.filter(tournament => 
                searchTournament === "" || tournament.name.toLowerCase().includes(searchTournament)
            );

            if (filteredTournaments.length === 0) return;

            const section = document.createElement("div");
            section.classList.add("player-section");
            section.style.background = `linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url(${player.backgroundImage || 'default.jpg'})`;
            section.style.backgroundSize ="cover";
            section.style.backgroundPosition = "center";

            const playerDetails = document.createElement("div");
            playerDetails.classList.add("player-details");

            const playerImage = document.createElement("img");
            playerImage.src = player.image || "default.jpg";
            playerImage.classList.add("player-image");

            const title = document.createElement("h5");
            title.textContent = player.name;

            playerDetails.appendChild(playerImage);
            playerDetails.appendChild(title);

            const row = document.createElement("div");
            row.classList.add("row", "m-1");

            filteredTournaments.forEach(tournament => {
                const col = document.createElement("div");
                col.classList.add("col");

                const div = document.createElement("div");
                div.classList.add("d-flex", "flex-column", "align-items-center");

                const trophy = document.createElement("img");
                trophy.src = tournament.trophy;
                trophy.classList.add("trophy-img");
                div.appendChild(trophy);

                const name = document.createElement("span");
                name.classList.add("tournament");
                name.textContent = tournament.name;

                div.appendChild(name);
                col.appendChild(div);
                row.appendChild(col);
            });

            playerDetails.appendChild(row);
            section.appendChild(playerDetails);
            container.appendChild(section);
        });
    }

    document.getElementById("searchPlayerInd").addEventListener("input", generatePlayers);
    document.getElementById("searchTournamentInd").addEventListener("input", generatePlayers);

    document.addEventListener("DOMContentLoaded", generatePlayers);
</script>
    
<script>
    async function loadTeams() {
    const response = await fetch('teams.json');
    const teams = await response.json();
    const teamsContainer = document.getElementById('teamsContainer');

    function renderTeams(filteredTeams) {
        teamsContainer.innerHTML = '';
        filteredTeams.forEach(team => {
            const teamCard = document.createElement('div');
            teamCard.className = 'teams-section';

            teamCard.innerHTML = `
                <div class="relative">
                    <div class="relative" style="background-image: url('${team.backgroundImage || 'default-background.jpg'}'); background-size: cover; background-position: center;">
                    <h4>${team.team}</h4>
                    <div class="flex justify-center gap-4 mb-2">
                        <img src="${team.image1 || 'default.jpg'}" alt="Player 1" class="teams-image">
                        <img src="${team.image2 || 'default.jpg'}" alt="Player 2" class="teams-image">
                    </div>
                    <div>
                        <p><h5>${team.name1} & ${team.name2}</h5></p>
                        <div class="flex space-x-2 mt-2">
                            ${team.tournaments.map(tournament => `
                                <div class="flex flex-column items-center">
                                    <img src="${tournament.trophy}" alt="Trophy" class="trophy-img">
                                    <span>${tournament.name}</span>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            teamsContainer.appendChild(teamCard);
        });
    }

    document.getElementById('searchPlayerCoop').addEventListener('input', (event) => {
        const searchTerm = event.target.value.toLowerCase();
        const filteredTeams = teams.filter(team =>
            team.team.toLowerCase().includes(searchTerm) ||
            team.name1.toLowerCase().includes(searchTerm) ||
            team.name2.toLowerCase().includes(searchTerm)
        );
        renderTeams(filteredTeams);
    });

    renderTeams(teams);
}

loadTeams();
</script>



</body>
<footer>

        <p>Create by MCLVEGA & breaking by mrrichar.</p>
    </footer>
</html>
